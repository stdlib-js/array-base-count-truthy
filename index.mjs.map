{"version":3,"file":"index.mjs","sources":["../lib/main.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isComplexTypedArray from '@stdlib/array-base-assert-is-complex-typed-array';\nimport isAccessorArray from '@stdlib/array-base-assert-is-accessor-array';\nimport resolveGetter from '@stdlib/array-base-resolve-getter';\nimport reinterpret from '@stdlib/strided-base-reinterpret-complex';\n\n\n// FUNCTIONS //\n\n/**\n* Counts the number of truthy values in an indexed array.\n*\n* @private\n* @param {Collection} x - input array\n* @returns {NonNegativeInteger} number of truthy values\n*\n* @example\n* var x = [ 0, 1, 0, 1 ];\n*\n* var n = indexed( x );\n* // returns 2\n*/\nfunction indexed( x ) {\n\tvar n;\n\tvar i;\n\n\tn = 0;\n\tfor ( i = 0; i < x.length; i++ ) {\n\t\tif ( x[ i ] ) {\n\t\t\tn += 1;\n\t\t}\n\t}\n\treturn n;\n}\n\n/**\n* Counts the number of truthy values in an accessor array.\n*\n* @private\n* @param {Collection} x - input array\n* @returns {NonNegativeInteger} number of truthy values\n*\n* @example\n* import toAccessorArray from '@stdlib/array-base-to-accessor-array';\n*\n* var x = toAccessorArray( [ 0, 1, 0, 1 ] );\n*\n* var n = accessors( x );\n* // returns 2\n*/\nfunction accessors( x ) {\n\tvar get;\n\tvar n;\n\tvar i;\n\n\tget = resolveGetter( x );\n\n\tn = 0;\n\tfor ( i = 0; i < x.length; i++ ) {\n\t\tif ( get( x, i ) ) {\n\t\t\tn += 1;\n\t\t}\n\t}\n\treturn n;\n}\n\n/**\n* Counts the number of truthy values in a complex array.\n*\n* @private\n* @param {Collection} x - input array\n* @returns {NonNegativeInteger} number of truthy values\n*\n* @example\n* import Complex128Array from '@stdlib/array-complex128';\n*\n* var x = new Complex128Array( [ 1.0, 2.0, 0.0, 0.0, 3.0, 4.0, 0.0, 0.0 ] );\n*\n* var n = complex( x );\n* // returns 2\n*/\nfunction complex( x ) {\n\tvar view;\n\tvar n;\n\tvar i;\n\n\tview = reinterpret( x, 0 );\n\n\tn = 0;\n\tfor ( i = 0; i < view.length; i += 2 ) {\n\t\tif ( view[ i ] || view[ i+1 ] ) {\n\t\t\tn += 1;\n\t\t}\n\t}\n\treturn n;\n}\n\n\n// MAIN //\n\n/**\n* Counts the number of truthy values in an array.\n*\n* @param {Collection} x - input array\n* @returns {NonNegativeInteger} number of truthy values\n*\n* @example\n* var x = [ 0, 1, 0, 1, 1 ];\n*\n* var n = countTruthy( x );\n* // returns 3\n*/\nfunction countTruthy( x ) {\n\tif ( isAccessorArray( x ) ) {\n\t\tif ( isComplexTypedArray( x ) ) {\n\t\t\treturn complex( x );\n\t\t}\n\t\treturn accessors( x );\n\t}\n\treturn indexed( x );\n}\n\n\n// EXPORTS //\n\nexport default countTruthy;\n"],"names":["countTruthy","x","isAccessorArray","isComplexTypedArray","view","n","i","reinterpret","length","complex","get","resolveGetter","accessors","indexed"],"mappings":";;gbAqIA,SAASA,EAAaC,GACrB,OAAKC,EAAiBD,GAChBE,EAAqBF,GAjC5B,SAAkBA,GACjB,IAAIG,EACAC,EACAC,EAKJ,IAHAF,EAAOG,EAAaN,EAAG,GAEvBI,EAAI,EACEC,EAAI,EAAGA,EAAIF,EAAKI,OAAQF,GAAK,GAC7BF,EAAME,IAAOF,EAAME,EAAE,MACzBD,GAAK,GAGP,OAAOA,CACR,CAoBUI,CAASR,GAjEnB,SAAoBA,GACnB,IAAIS,EACAL,EACAC,EAKJ,IAHAI,EAAMC,EAAeV,GAErBI,EAAI,EACEC,EAAI,EAAGA,EAAIL,EAAEO,OAAQF,IACrBI,EAAKT,EAAGK,KACZD,GAAK,GAGP,OAAOA,CACR,CAqDSO,CAAWX,GA/FpB,SAAkBA,GACjB,IAAII,EACAC,EAGJ,IADAD,EAAI,EACEC,EAAI,EAAGA,EAAIL,EAAEO,OAAQF,IACrBL,EAAGK,KACPD,GAAK,GAGP,OAAOA,CACR,CAsFQQ,CAASZ,EACjB"}